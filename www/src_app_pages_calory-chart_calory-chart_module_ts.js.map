{"version":3,"file":"src_app_pages_calory-chart_calory-chart_module_ts.js","mappings":"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","sources":["./src/app/pages/calory-chart/calory-chart-routing.module.ts","./src/app/pages/calory-chart/calory-chart.module.ts","./src/app/pages/calory-chart/calory-chart.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CaloryChartPage } from './calory-chart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CaloryChartPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CaloryChartPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CaloryChartPageRoutingModule } from './calory-chart-routing.module';\n\nimport { CaloryChartPage } from './calory-chart.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CaloryChartPageRoutingModule\n  ],\n  declarations: [CaloryChartPage]\n})\nexport class CaloryChartPageModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Chart, registerables } from \"chart.js\";\nimport moment from \"moment\";\nimport { AppService } from '../../newBoarding/app.service';\n\n@Component({\n  selector: 'app-calory-chart',\n  templateUrl: './calory-chart.page.html',\n  styleUrls: ['./calory-chart.page.scss'],\n})\nexport class CaloryChartPage implements OnInit {\n  @ViewChild(\"caloriesCanvas\") private caloriesCanvas: ElementRef;\n  @ViewChild(\"barCanvas\") private barCanvas: ElementRef;\n  profileName: any;\n  custDailyDiets: any = [];\n  compConfig: any;\n  barChart: any;\n  profileData: any;\n  defaultDate: any;\n  isValidDate: boolean = false;\n  defaultDateRange: any;\n  maxCalories:any;\n  Math: any = Math;\n  averageCal = 0;\n\n  constructor(\n    private router: Router,\n    private appServices: AppService,\n    private route: ActivatedRoute,\n  ) {\n    Chart.register(...registerables);\n    let dateRange = moment(new Date()).day() + 1;\n\n    let fromDate = moment(new Date()).format(\"DDMMYYYY\");\n    this.setDateRange(dateRange);\n    this.isValidDate = false;\n    this.getProfile(()=>{\n      this.customDailyDiets(fromDate, dateRange);\n    });\n    \n    this.route.queryParams.subscribe(res => {\n      this.profileName = res.profileName;\n      this.compConfig = JSON.parse(res.compConfig);\n      this.profileData = JSON.parse(res.profileData);\n    });\n  }\n\n  setDateRange(dateRange){\n    let now = moment();\n    let sunday: any = now.clone().weekday(0);\n    let lastDay: any = now.clone().weekday(dateRange - 1);\n    this.defaultDate = moment().format('ll');\n    let lastDateMonth = `${new Date().toLocaleString('default', { month: 'long' })}` != `${new Date(lastDay).toLocaleString('default', { month: 'long' })}` ? \n                  `${new Date(lastDay).toLocaleString('default', { month: 'long' })}`: ''\n    this.defaultDateRange = `${new Date().toLocaleString('default', { month: 'long' })} ${new Date(sunday).getDate()} - ${lastDateMonth} ${new Date(lastDay).getDate()}`;\n  }\n\n  getProfile(cb){\n    this.appServices.getProfile().then(\n      \n      (profileData : any) => {\n        this.maxCalories = profileData?.lifeStyle.calories;\n        cb();\n      });\n\n   }\n\n  // ionViewWillEnter() {\n  //   this.customDailyDiets();\n  // }\n\n  customDailyDiets(date, range) {\n    let obj = {\n      fromDate: date,\n      dateRange: range\n    }\n    this.appServices.fetchCustDailyDiets(obj).then((fetchCustDailyDietsResponse:any) => {\n      console.log('fetchCustDailyDietsResponse: ', fetchCustDailyDietsResponse);\n      if (fetchCustDailyDietsResponse) {\n        this.custDailyDiets = fetchCustDailyDietsResponse.filter((ele)=> ele.data.totalEatenCalories);\n        this.custDailyDiets.forEach(ele => {\n          ele[\"displayDate\"] = moment(moment(ele.date, \"DD-MM-YYYY\")).format('dddd, MMMM D');\n          \n          ele[\"restCalories\"] = Math.floor(this.maxCalories - ele.data.totalEatenCalories);\n          // ele.data[\"colorHash\"] =  ele.data.scoreColor == 'dark green' ? '#38A534' :\n          // ele.data.scoreColor == 'light green' ? '#94EA0A' :\n          //   ele.data.scoreColor == 'yellow' ? '#EADC18' :\n          //     ele.data.scoreColor == 'red' ? '#ff0000' :\n          //       ele.data.scoreColor == 'orange' ? '#ffa500' : '';\n        })\n        this.barChartMethod();\n      }\n    },\n      (fetchCustDailyDietsError) => {\n        console.log('fetchCustDailyDietsError: ', fetchCustDailyDietsError);\n      })\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  barChartMethod() {\n    // this.setLabels();\n\n    let labelToSet = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\n    let dataToset: any = [0, 0, 0, 0, 0, 0, 0];\n    let dataToset1: any = [0, 0, 0, 0, 0, 0, 0];\n    let backgroundColorToSet: any = [\"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n    let counter = 0;\n    let totalCalories = 0;\n    for (let i = 0; i < this.custDailyDiets.length; i++) {\n      const element = this.custDailyDiets[i];\n\n      let date = moment(element.date, \"DD-MM-YYYY\");\n      let day = moment(date).day() + 1;\n      let bgColor = element.data.scoreColor == 'dark green' ? '#38A534' :\n        element.data.scoreColor == 'light green' ? '#94EA0A' :\n          element.data.scoreColor == 'yellow' ? '#EADC18' :\n            element.data.scoreColor == 'red' ? '#ff0000' :\n              element.data.scoreColor == 'orange' ? '#ffa500' : '';\n\n      // element.data.totalEatenCalories < 400 ? \n        // dataToset[day - 1] = element.data.totalEatenCalories - 400 || 0 : \n        //   dataToset1[day - 1] = element.data.totalEatenCalories || 0;\n\n          if(element.data.totalEatenCalories > this.maxCalories){\n            dataToset[day - 1] = Math.round(this.maxCalories);\n            dataToset1[day - 1] = Math.round(element.data.totalEatenCalories - this.maxCalories);\n          }else{\n            dataToset[day - 1] = Math.round(element.data.totalEatenCalories);\n          }\n      backgroundColorToSet[day - 1] = bgColor || \"\";\n      if(element.data.totalEatenCalories) {\n        totalCalories = totalCalories + element.data.totalEatenCalories;\n        counter++;\n      }\n    }\n    if(totalCalories && counter){\n      this.averageCal = totalCalories/counter\n    }else{\n      this.averageCal = 0;\n    }\n    console.log('fetchCustDailyDietsResponse: ', backgroundColorToSet);\n    let self = this;\n    let limitAdded = false;\n    this.barChart = new Chart(this.barCanvas.nativeElement, {\n      type: 'bar',\n      data: {\n        labels: labelToSet,\n        datasets: [{\n          data: dataToset,\n          backgroundColor: backgroundColorToSet,\n          borderRadius: 100,\n          // borderWidth: 0\n        },{\n          data: dataToset1,\n          backgroundColor: '#ff0000',\n          borderRadius: 20,\n          // borderWidth: 0\n        }]\n      },\n      options: {\n        plugins: {\n          legend: {\n              display: false\n          }\n        },\n        scales: {\n          x: {\n            // type: 'linear',\n            stacked: true,\n            grid: {\n              color: 'rgba(0,0,0,0)',\n            }\n            // display: false,\n          },\n          y: {\n            stacked: true,\n            suggestedMax: self.maxCalories,\n            grid: {\n              color: (ctx)=>{\n                if(ctx.tick.value == self.maxCalories) return 'rgb(220 54 46)'\n                else return 'rgba(0,0,0,0.1)'\n              },\n            },\n            ticks: {\n              callback: function(value, index, values) {\n                if (value && values[index+1] && values[index+1].value && self.maxCalories > value && self.maxCalories < values[index+1].value){\n                  values.splice(index, 1); \n                  values.push({value:self.maxCalories, label: self.maxCalories})\n                  limitAdded = true;\n                  // values[index+1] = {value:self.maxCalories, label: self.maxCalories};\n                }\n                if(!limitAdded && index + 1 == values.length){\n                  values.push({value:self.maxCalories, label: self.maxCalories})\n                }\n                return value;\n              },\n              color: (ctx)=>{\n                if(ctx.tick.value == self.maxCalories) {\n                  return 'rgb(220 54 46)'\n                }\n              }\n            }\n          }\n        }\n      }\n      // options: {\n      //   // legend: {\n      //   //   display: false\n      //   // },\n      //   // animation: {\n      //   //   duration: 2000\n      //   // },\n      //   scales: {\n      //     // yAxes: [{\n      //     //   pointLabels: {\n      //     //     beginAtZero: true\n      //     //   }\n      //     // }]\n      //     // yAxis: {\n      //     //   min: 0,\n      //     //   max: 100,\n      //     // }\n      //   }\n      // }\n    });\n  }\n\n  dateRangeChange(dateRange, type) {\n    console.log(type);\n    let dateRef = 604800000;\n    this.defaultDate = type == \"forward\" ? new Date(dateRange).getTime() + dateRef : new Date(dateRange).getTime() - dateRef;\n    let sunday: any = moment(new Date(this.defaultDate)).clone().weekday(0);\n    let lastDay: any = moment(new Date(this.defaultDate)).clone().weekday(6);\n    let lastDateMonth = `${new Date(sunday).toLocaleString('default', { month: 'long' })}` != `${new Date(lastDay).toLocaleString('default', { month: 'long' })}` ? \n                  `${new Date(lastDay).toLocaleString('default', { month: 'long' })}`: ''\n    this.defaultDateRange = `${new Date(sunday).toLocaleString('default', { month: 'long' })} ${sunday.date()} -  ${lastDateMonth} ${lastDay.date()}`;\n    if(this.barChart) this.barChart.destroy();\n    this.barChart = null;\n    this.customDailyDiets(moment(new Date(lastDay)).format(\"DDMMYYYY\"), 7);\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}