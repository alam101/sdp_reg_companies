{"version":3,"file":"default-src_app_components_filter-card_filter-card_module_ts.js","mappings":"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","sources":["./src/app/components/filter-card/filter-card-routing.module.ts","./src/app/components/filter-card/filter-card.module.ts","./src/app/components/filter-card/filter-card.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FilterCardPage } from './filter-card.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FilterCardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FilterCardPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { FilterCardPageRoutingModule } from \"./filter-card-routing.module\";\n\nimport { FilterCardPage } from \"./filter-card.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FilterCardPageRoutingModule,\n  ],\n  declarations: [FilterCardPage],\n  exports: [FilterCardPage],\n})\nexport class FilterCardPageModule {}\n","import { Location } from \"@angular/common\";\nimport { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { ModalController, NavController } from \"@ionic/angular\";\n\nimport moment from \"moment\";\nimport { AppService } from \"src/app/app.service\";\nimport { CONSTANTS } from \"src/app/core/constants/constants\";\nimport { UTILITIES } from \"src/app/core/utility/utilities\";\nimport { PortionCountPage } from \"../../alternate-diet/portion-count/portion-count.page\";\nimport { SelectslotPopupPage } from \"../../selectslot-popup/selectslot-popup.page\";\nimport { ViewProductPage } from \"../../view-product/view-product.page\";\nimport {BehaviorSubject} from \"rxjs\";\nimport { BroadcastService } from \"src/app/broadcast.service\";\n@Component({\n  selector: \"app-filter-card\",\n  templateUrl: \"./filter-card.page.html\",\n  styleUrls: [\"./filter-card.page.scss\"],\n})\nexport class FilterCardPage implements OnInit {\n  @Input() data: any = {};\n  @Input() loaded = false;\n  @Input() slot = false;\n  customerId: any;\n  totalCal: number = 0;\n  moment: any = moment;\n  parseFloat: any = parseFloat;\n  Math: any = Math;\n  image_URL = \"\";\n  currentDateIndex: any = 0;\n   \n  constructor(\n    private utilities: UTILITIES,\n    private appServices: AppService,\n    private modalCtrl: ModalController,\n    private navCtrl: NavController,\n    private broadcastService:BroadcastService\n  ) {\n    \n  }\n\n  async ngOnInit() {\n    this.image_URL = CONSTANTS.image_URL;\n    this.customerId = await this.utilities.getUserData(\"id\");\n    if (this.data.Score === 9) {\n      this.data.option = \"Best\";\n    }\n    if (this.data.Score === 6) {\n      this.data.option = \"Good\";\n    }\n    if (this.data.Score === 3) {\n      this.data.option = \"Average\";\n    }\n    if (this.data.Score === 1) {\n      this.data.option = \"Below average\";\n    }\n    if (this.data.Score === 0) {\n      this.data.option = \"Bad\";\n    }\n    if (this.data.Score === -1) {\n      this.data.option = \"Not recommended\";\n    }\n    if (!this.data.Score || this.data.Score == \"\") {\n      this.data.option = \"Unverified\";\n    }\n    // console.log(this.slot);\n  }\n\n  async addCal(d) {\n    if (this.slot) {\n      const modal = await this.modalCtrl.create({\n        component: PortionCountPage,\n        cssClass: \"portion_count\",\n        componentProps: {\n          alterdata: this.data,\n          type: \"add\",\n        },\n        backdropDismiss: true,\n        swipeToClose: true,\n      });\n      await modal.present();\n      const modaldata = await modal.onDidDismiss();\n      const d = modaldata?.data;\n      console.log(d);\n      if (d) {\n        const datas = {\n          date: CONSTANTS.dietDate,\n          foodCodeList: [\n            {\n              code: d._id,\n              portion: Number(d.portion),\n              eaten: 2,\n\n              foodSource: d.foodSource,\n            },\n          ],\n          slot: Number(this.slot),\n          isUpdateDiet: true,\n        };\n        console.log(\"datas\", datas);\n        this.appServices.postOptionFoodList1(datas).then(\n          (res) => {\n            console.log(\"food code update\", res);\n            // this.modalCtrl.dismiss({});\n            // if (d?.imgType === \"H\") {\n              this.utilities.logEvent(\"onboarding_Click_search_whats_on_your_mind\", {});\n            // } else\n\n            this.utilities.closeModal();\n           // this.messageSubject.next('reload');\n            this.broadcastService.boradcast(\"reload\");\n            this.navCtrl.navigateForward([\n              \"/new-diet\",\n              { refresh: new Date().getTime() },\n            ]);\n          },\n          (err) => {\n            console.log(err);\n          }\n        );\n      }\n      console.log(\"slot\", this.slot);\n      return;\n    }\n    this.data = d;\n    console.log(\"TEST---\", d);\n    const modal = await this.modalCtrl.create({\n      component: SelectslotPopupPage,\n      cssClass: \"small-modal-slot\",\n      backdropDismiss: true,\n      swipeToClose: true,\n    });\n\n    await modal.present();\n    const modaldata = await modal.onDidDismiss();\n    const slot = modaldata?.data;\n    if (slot) {\n      const modal = await this.modalCtrl.create({\n        component: PortionCountPage,\n        cssClass: \"portion_count\",\n        backdropDismiss: true,\n        swipeToClose: true,\n        componentProps: {\n          alterdata: this.data,\n          type: \"add\",\n        },\n      });\n      await modal.present();\n      const modaldata = await modal.onDidDismiss();\n      const d = modaldata?.data;\n      if (d) {\n        const datas = {\n          date: CONSTANTS.dietDate,\n          foodCodeList: [\n            {\n              code: d._id,\n              portion: Number(d.portion),\n              eaten: 2,\n\n              foodSource: d.foodSource,\n            },\n          ],\n          slot: Number(slot.slot),\n          isUpdateDiet: true,\n        };\n        console.log(\"datas\", datas);\n        this.appServices.postOptionFoodList1(datas).then(\n          (res) => {\n            console.log(\"food code update\", res);\n            // this.modalCtrl.dismiss({});\n            this.utilities.closeModal();          \n            this.broadcastService.boradcast(\"reload\");\n            this.navCtrl.navigateForward([\n              \"/new-diet\",\n              { refresh: new Date().getTime() },\n            ]);\n          },\n          (err) => {\n            console.log(err);\n          }\n        );\n      }\n      console.log(\"slot\", slot);\n    }\n  }\n\n  async gotoView(d) {\n    // this.modalCtrl.dismiss();\n    d.imageUrl = d.imageId;\n    const modal = await this.modalCtrl.create({\n      component: ViewProductPage,\n      componentProps: {\n        food: d,\n        // from: \"search\",\n        slot: this.slot,\n      },\n      backdropDismiss: true,\n    });\n    this.utilities.storeModal(modal);\n    modal.present();\n  }\n}\n"],"names":["Component","Input","ModalController","NavController","moment","AppService","CONSTANTS","UTILITIES","PortionCountPage","SelectslotPopupPage","ViewProductPage","BroadcastService","FilterCardPage","constructor","utilities","appServices","modalCtrl","navCtrl","broadcastService","parseFloat","Math","ngOnInit","image_URL","customerId","getUserData","data","Score","option","addCal","d","slot","modal","create","component","cssClass","componentProps","alterdata","type","backdropDismiss","swipeToClose","present","modaldata","onDidDismiss","console","log","datas","date","dietDate","foodCodeList","code","_id","portion","Number","eaten","foodSource","isUpdateDiet","postOptionFoodList1","then","res","logEvent","closeModal","boradcast","navigateForward","refresh","Date","getTime","err","gotoView","imageUrl","imageId","food","storeModal","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}