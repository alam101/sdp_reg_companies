{"version":3,"file":"src_app_search-auto_search-auto_module_ts.js","mappings":"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","sources":["./src/app/search-auto/search-auto-routing.module.ts","./src/app/search-auto/search-auto.module.ts","./src/app/search-auto/search-auto.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SearchAutoPage } from './search-auto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SearchAutoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SearchAutoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SearchAutoPageRoutingModule } from './search-auto-routing.module';\n\nimport { SearchAutoPage } from './search-auto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SearchAutoPageRoutingModule\n  ],\n  declarations: [SearchAutoPage]\n})\nexport class SearchAutoPageModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AppService } from '../app.service';\nimport { CONSTANTS } from '../core/constants/constants';\nimport { PortionCountPage } from '../alternate-diet/portion-count/portion-count.page';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { UTILITIES } from '../core/utility/utilities';\nimport { BroadcastService } from '../broadcast.service';\nimport moment from 'moment';\nimport { SelectslotPopupPage } from '../selectslot-popup/selectslot-popup.page';\n\n@Component({\n  selector: 'app-search-auto',\n  templateUrl: './search-auto.page.html',\n  styleUrls: ['./search-auto.page.scss'],\n})\nexport class SearchAutoPage implements OnInit {\n  searchValue=\"chilli\";\n  searchData=[];\n   @Input() data: any = {};\n    @Input() loaded = false;\n    @Input() slot = false;\n    customerId: any;\n    totalCal: number = 0;\n    moment: any = moment;\n    parseFloat: any = parseFloat;\n    Math: any = Math;\n    image_URL = \"\";\n    currentDateIndex: any = 0;\n  constructor( private appService: AppService, private utilities: UTILITIES,\n      private modalCtrl: ModalController,\n      private navCtrl: NavController,\n      private broadcastService:BroadcastService) { }\n\n  ngOnInit() {\n   // this.searchAllApiData(\"\",1);\n  }\n    searchAllApiData(searchValue,index){\n      setTimeout(() => {\n        this.appService.searchAuto(searchValue).subscribe((res:any)=>{\n          \n          this.searchData=res[\"data\"].foodItems;\n          console.log(\"this.searchData\",this.searchData);\n          \n      },err=>{\n        console.log(\"err\",err);\n        \n      })\n      }, 3000);\n      \n    }\n\n      async addCal(d) {\n        if (this.slot) {\n          const modal = await this.modalCtrl.create({\n            component: PortionCountPage,\n            cssClass: \"portion_count\",\n            componentProps: {\n              alterdata: this.data,\n              type: \"add\",\n            },\n            backdropDismiss: true,\n            swipeToClose: true,\n          });\n          await modal.present();\n          const modaldata = await modal.onDidDismiss();\n          const d = modaldata?.data;\n          console.log(d);\n          if (d) {\n            const datas = {\n              date: CONSTANTS.dietDate,\n              foodCodeList: [\n                {\n                  code: d._id,\n                  portion: Number(d.portion),\n                  eaten: 2,\n    \n                  foodSource: d.foodSource,\n                },\n              ],\n              slot: Number(this.slot),\n              isUpdateDiet: true,\n            };\n            console.log(\"datas\", datas);\n            this.appService.postOptionFoodList1(datas).then(\n              (res) => {\n                console.log(\"food code update\", res);\n                // this.modalCtrl.dismiss({});\n                // if (d?.imgType === \"H\") {\n                  this.utilities.logEvent(\"onboarding_Click_search_whats_on_your_mind\", {});\n                // } else\n    \n                this.utilities.closeModal();\n               // this.messageSubject.next('reload');\n                this.broadcastService.boradcast(\"reload\");\n                this.navCtrl.navigateForward([\n                  \"/new-diet\",\n                  { refresh: new Date().getTime() },\n                ]);\n              },\n              (err) => {\n                console.log(err);\n              }\n            );\n          }\n          console.log(\"slot\", this.slot);\n          return;\n        }\n        this.data = d;\n        console.log(\"TEST---\", d);\n        const modal = await this.modalCtrl.create({\n          component: SelectslotPopupPage,\n          cssClass: \"small-modal-slot\",\n          backdropDismiss: true,\n          swipeToClose: true,\n        });\n    \n        await modal.present();\n        const modaldata = await modal.onDidDismiss();\n        const slot = modaldata?.data;\n        this.data.slot = slot.slot;\n        if (slot) {\n          const modal = await this.modalCtrl.create({\n            component: PortionCountPage,\n            cssClass: \"portion_count\",\n            backdropDismiss: true,\n            swipeToClose: true,\n            componentProps: {\n              alterdata: this.data,\n              type: \"add\",\n            },\n          });\n          await modal.present();\n          const modaldata = await modal.onDidDismiss();\n          const d = modaldata?.data;\n          if (d) {\n            const datas = {\n              date: CONSTANTS.dietDate,\n              foodCodeList: [\n                {\n                  code: d._id,\n                  portion: Number(d.portion),\n                  eaten: 2,\n    \n                  foodSource: d.foodSource,\n                },\n              ],\n              slot: Number(slot.slot),\n              isUpdateDiet: true,\n            };\n            console.log(\"datas\", datas);\n            this.appService.postOptionFoodList1(datas).then(\n              (res) => {\n                console.log(\"food code update\", res);\n                // this.modalCtrl.dismiss({});\n                this.utilities.closeModal();          \n                this.broadcastService.boradcast(\"reload\");\n                this.navCtrl.navigateForward([\n                  \"/new-diet\",\n                  { refresh: new Date().getTime() },\n                ]);\n              },\n              (err) => {\n                console.log(err);\n              }\n            );\n          }\n          console.log(\"slot\", slot);\n        }\n      }\n}\n"],"names":["Component","Input","AppService","CONSTANTS","PortionCountPage","ModalController","NavController","UTILITIES","BroadcastService","moment","SelectslotPopupPage","SearchAutoPage","constructor","appService","utilities","modalCtrl","navCtrl","broadcastService","parseFloat","Math","ngOnInit","searchAllApiData","searchValue","index","setTimeout","searchAuto","subscribe","res","searchData","foodItems","console","log","err","addCal","d","slot","modal","create","component","cssClass","componentProps","alterdata","data","type","backdropDismiss","swipeToClose","present","modaldata","onDidDismiss","datas","date","dietDate","foodCodeList","code","_id","portion","Number","eaten","foodSource","isUpdateDiet","postOptionFoodList1","then","logEvent","closeModal","boradcast","navigateForward","refresh","Date","getTime","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}