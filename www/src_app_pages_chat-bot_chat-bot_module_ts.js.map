{"version":3,"file":"src_app_pages_chat-bot_chat-bot_module_ts.js","mappings":"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","sources":["./src/app/pages/chat-bot/chat-bot-routing.module.ts","./src/app/pages/chat-bot/chat-bot.module.ts","./src/app/pages/chat-bot/chat-bot.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChatBotPage } from './chat-bot.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatBotPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChatBotPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatBotPageRoutingModule } from './chat-bot-routing.module';\n\nimport { ChatBotPage } from './chat-bot.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ChatBotPageRoutingModule\n  ],\n  declarations: [ChatBotPage]\n})\nexport class ChatBotPageModule {}\n","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { WebSocketService } from 'src/app/services/web-socket.service';\nimport { SocketService } from 'src/app/services/socket.service';\n\n\n@Component({\n  selector: 'app-chat-bot',\n  templateUrl: './chat-bot.page.html',\n  styleUrls: ['./chat-bot.page.scss'],\n})\nexport class ChatBotPage implements OnInit {\n  isShow=true;\n  newMessage: string = '';\n  messages:any;\n  complteObject:any;\n  startMessages: { sender: string; text: string; options?: {label: string}[] }[] = [];\n  myMessage=[];\n  botMessage=[];\n  clientId=\"Fitrofy\";\n  isActiveInput=false;\n  constructor(private http: HttpClient, private wsService: WebSocketService,private socketService: SocketService) {\n    this.clientId = localStorage.getItem(\"clientId\");\n  }\n  \n \n ngOnInit() {\nconsole.log(\"gggg\", localStorage.getItem(\"userId\"));\n\n  const message='adarsh';\n  this.socketService.emit('initialize', {userId:localStorage.getItem(\"userId\")});\n   this.socketService.on('bot_reply', (msg) => {\n    this.isActiveInput=false;\n    console.log(\"received:-\", msg); \n     if(msg.message?.options?.length>0){\n      this.complteObject = msg;\n        this.messages = msg.message;\n      }\n      else{\n         this.complteObject = msg;\n        if(msg.message){\n          if(msg.message?.options){\n            this.messages =msg.message;\n          }\n           if(msg?.message?.label.split(' ')?.includes('Invalid')){\n            this.botMessage.push(msg.message.label);\n          }\n          if(msg?.message?.hint){\n            this.isActiveInput=true;\n            this.botMessage.push(msg.message.hint);\n          }\n          else{\n             this.isActiveInput=false;\n            this.botMessage.push(msg.message.label);\n          }\n         \n        }\n      }\n    \n  \n  });\n  \n \n  // this.getWelcomeMessage();\n}\n\n    goBack(){\n      console.log(\"this.myMessage[0]\", this.myMessage[0]);\n      \n       this.socketService.emit(\"send_message\",{message:this.myMessage[0]});\n    }\n  sendMessage() {\n   \n    console.log({...this.complteObject,input:this.newMessage});  \n   \n    this.socketService.emit(\"send_message\",{...this.complteObject,input:this.newMessage});\n    this.myMessage.push(this.newMessage);\n      this.newMessage=\"\";\n  }\n\n  optionClickListener(option){\n    this.myMessage.push(option.label);\n    this.socketService.emit(\"send_message\",{message:option.label})\n    // this.socketService.on('bot_message', (msg) => {\n    //   console.log('bot_message:', msg);\n    // });\n  }\n\n  menuOppener(){\n    this.messages.push({\n      sender: 'bot',\n      text: `Choose on of Below`,\n      options: [{label: '1. Go Back'}, {label: '2. Start Again'}, {label: '3. No Queries'}]\n    });\n  }\n\n\n\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}