{"version":3,"file":"src_app_pages_slot-lunch-time_slot-lunch-time_module_ts.js","mappings":"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","sources":["./src/app/pages/slot-lunch-time/slot-lunch-time-routing.module.ts","./src/app/pages/slot-lunch-time/slot-lunch-time.module.ts","./src/app/pages/slot-lunch-time/slot-lunch-time.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SlotLunchTimePage } from './slot-lunch-time.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SlotLunchTimePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SlotLunchTimePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SlotLunchTimePageRoutingModule } from './slot-lunch-time-routing.module';\n\nimport { SlotLunchTimePage } from './slot-lunch-time.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SlotLunchTimePageRoutingModule,\n    ComponentsModule,\n    TranslateModule\n  ],\n  declarations: [SlotLunchTimePage]\n})\nexport class SlotLunchTimePageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { UTILITIES } from \"../../core/utility/utilities\";\nimport { message,CONSTANTS } from \"../../core/constants/constants\";\nimport { Storage } from \"@ionic/storage\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { AppService } from \"../../home-service/app.service\";\nimport moment from \"moment\";\n@Component({\n  selector: 'app-slot-lunch-time',\n  templateUrl: './slot-lunch-time.page.html',\n  styleUrls: ['./slot-lunch-time.page.scss'],\n})\nexport class SlotLunchTimePage implements OnInit {\n  slotTiming = [];\n  selectedSlot = 0;\n  slot0: any;\n  constructor(\n    private router: Router,\n    private storage: Storage,\n    private utilities: UTILITIES,\n    private appService: AppService\n  ) { }\n\n  ngOnInit() {\n\n  }\n  timeConvert(num) {\n    let AMPM = (num < 12 || num === 24) ? \" AM\" : \" PM\";\n    let number=(num > 12.5) ? (num-12 ) : num;\n     number = number.toString().split(\".\");\n    if (number[1]) {\n      return number[0] + \":\" + 30 + AMPM;\n    } else {\n      return number[0] + \":00\" + AMPM;\n    }\n  }\n\n  ionViewDidEnter() {\n    this.storage.get(\"diets\").then(diet => {\n      let index = diet.findIndex(o => o.slot == 0);\n      if (index != -1) {\n        this.slot0 = diet[index].time;\n      }\n    })\n    this.storage.get(\"slotTiming\").then(local => {\n      if (local) {\n        let startSlot = 0;\n        if (local[\"bf\"]) {\n          this.slotTiming = [];\n          startSlot = local[\"bf\"] + 3.5;\n          for (var i = startSlot; i <= 14.50; i = i + 0.5) {\n            this.slotTiming.push(\n              {\n                text: this.timeConvert(i),\n                value: i,\n                isSelected: false\n              },\n            )\n          }\n        }\n        let index = this.slotTiming.findIndex(o => o.value == local[\"lunch\"]);\n        if (index != -1) {\n          this.slotTiming[index].isSelected = true;\n          this.selectedSlot = local[\"lunch\"];\n\n        }\n      }\n\n    })\n  }\n  selectSlot(value) {\n    this.slotTiming.forEach(element => {\n      element.isSelected = false;\n    });\n    let index = this.slotTiming.findIndex(o => o.value == value);\n    this.selectedSlot = value;\n    this.slotTiming[index].isSelected = true;\n  }\n\n  goto() {\n    if (this.selectedSlot) {\n      this.storage.get(\"slotTiming\").then(local => {\n        let slots: any = {};\n        if (local) {\n          slots = local;\n        }\n        slots[\"lunch\"] = this.selectedSlot;\n        this.storage.set(\"slotTiming\", slots);\n        let slotParams = {\n          \"timings\": [\n            {\n              \"slot\": 0,\n              \"time\": \"06:30\"\n            },\n            {\n              \"slot\": 1,\n              \"time\": this.decimalToTime(local[\"bf\"] - .5)\n            },\n            {\n              \"slot\": 2,\n              \"time\": this.decimalToTime(local[\"bf\"])\n            },\n            {\n              \"slot\": 3,\n              \"time\": this.decimalToTime(local[\"bf\"] + 1)\n            },\n            {\n              \"slot\": 4,\n              \"time\": this.decimalToTime(this.selectedSlot)\n            },\n            {\n              \"slot\": 5,\n              \"time\": this.decimalToTime(this.selectedSlot + 1)\n            },\n            {\n              \"slot\": 6,\n              \"time\": this.decimalToTime(this.selectedSlot + 2)\n            },\n            {\n              \"slot\": 7,\n              \"time\": this.decimalToTime(local[\"dinner\"])\n            },\n            {\n              \"slot\": 8,\n              \"time\": local[\"post-dinner\"] ? this.decimalToTime(local[\"post-dinner\"]) : null\n            }\n          ],\n          detox:CONSTANTS.isDetox\n\n        }\n        console.log(slotParams);\n        this.utilities.presentLoading();\n        this.appService.dietPlanSlotTimingUpdate(slotParams).then(\n          success => {\n            this.utilities.hideLoader();\n            this.storage.remove(\"slotTiming\");\n            this.storage.set(\"dietData\", null).then(()=>{\n              this.storage.set(\"optionsData\", null).then(()=>{\n                CONSTANTS.dietDate = moment().format(\"DDMMYYYY\");\n                this.utilities.showSuccessToast(\"diet timings updated\");\n                localStorage.setItem(\"slideToFirst\", \"true\");\n                this.router.navigate([\"consume\"]);\n              })\n            })\n          },\n          err => {\n            this.utilities.hideLoader();\n            this.utilities.presentAlert(err.message);\n            console.log(\"Error:\", err);\n          }\n        );\n      })\n\n\n    } else {\n      this.utilities.showErrorToast(message.timing);\n    }\n  }\n  21\n\n  decimalToTime(minutes) {\n    var sign = minutes < 0 ? \"-\" : \"\";\n    var min = Math.floor(Math.abs(minutes));\n    var sec = Math.floor((Math.abs(minutes) * 60) % 60);\n    return sign + (min < 10 ? \"0\" : \"\") + min + \":\" + (sec < 10 ? \"0\" : \"\") + sec;\n  }\n  back() {\n    this.router.navigate([\"/slot-bf-time\"]);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}